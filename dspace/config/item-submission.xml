<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE item-submission SYSTEM "item-submission.dtd">
<!-- Configurable Submission configuration file -->

<!-- This XML configuration file allows you to configure the ordering -->
<!-- and number of the steps that occur in the Item Submission Process. -->
<item-submission>

    <!-- The process-map maps collection handles to a particular Item -->
    <!-- Submission Process. This requires that a collection's name be -->
    <!-- unique, even within a community. DSpace does however ensure that each -->
    <!-- collection's handle is unique. Process-map provides the means to -->
    <!-- associate a unique collection name with an Item Submission process. -->
    <!-- The process-map also provides the special handle "default" (which is -->
    <!-- never a collection), here mapped to "traditional". Any collection -->
    <!-- which does not appear in this map will be associated with the mapping -->
    <!-- for handle "default". -->
    <submission-map>

        <!-- Sample Entities Collection configuration based on the demo Entities dataset available at:
             https://github.com/DSpace-Labs/AIP-Files/releases/tag/demo-entities-data
             This sets up the following Entity-based Collections in that dataset:
                "Publication" Collections = "Publications" -> "Articles", "Books", "Publications 2", & "Theses"
                "OrgUnit" Collection = "Related Objects" -> "OrgUnits"
                "Person" Collections = "Related Objects" -> "People" & "People 2"
                "Project" Collections = "Related Objects" -> "Projects" & "Projects 2"
                "Journal" Collection = "Compound Journals" -> "Journals"
                "Journal Volume" Collection = "Compound Journals" -> "Journal Volumes"
                "Journal Issue" Collection = "Compound Journals" ->  "Journal Issues"
             If you are using that demo dataset, you can simply uncomment the below configuration to enable Entity
             submission into all of the above Collections.
        -->
        <!--
        <name-map collection-handle="123456789/3" submission-name="Publication"/>
        <name-map collection-handle="123456789/4" submission-name="Publication"/>
        <name-map collection-handle="123456789/281" submission-name="Publication"/>
        <name-map collection-handle="123456789/5" submission-name="Publication"/>
        <name-map collection-handle="123456789/8" submission-name="OrgUnit"/>
        <name-map collection-handle="123456789/6" submission-name="Person"/>
        <name-map collection-handle="123456789/279" submission-name="Person"/>
        <name-map collection-handle="123456789/7" submission-name="Project"/>
        <name-map collection-handle="123456789/280" submission-name="Project"/>
        <name-map collection-handle="123456789/28" submission-name="Journal"/>
        <name-map collection-handle="123456789/29" submission-name="JournalVolume"/>
        <name-map collection-handle="123456789/30" submission-name="JournalIssue"/>
        -->




        <!-- Default submission process -->
        <name-map collection-handle="default" submission-name="TravauxetPublications"/>


        <name-map collection-handle="1973/2964" submission-name="TME"/>
        <name-map collection-handle="1973/2621" submission-name="TME"/>
        <name-map collection-handle="1973/9604" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1973/4153" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1973/578" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1973/3512" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1973/10321" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1973/20059" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1973/577" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1973/19699" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1973/19192" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1973/19210" submission-name="TravauxetPublications"/>

        <name-map collection-handle="1973/20070" submission-name="test"/>



        <name-map collection-handle="1866/10" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/8" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/167" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/10321" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19186" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/16334" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/12629" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19679" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/14148" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19699" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19187" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19188" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19189" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19191" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19192" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19193" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19194" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19195" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19196" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/13063" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19200" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19201" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/2331" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19203" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/12201" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19204" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19239" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/11371" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/1979" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/11307" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/11306" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19207" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/561" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19209" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19210" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/1521" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/19211" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/695" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/4671" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/577" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/5402" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/10093" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/25825" submission-name="TravauxetPublications"/>
        <name-map collection-handle="1866/10094" submission-name="TME"/>
        <name-map collection-handle="1866/2964" submission-name="TME"/>
        <name-map collection-handle="1866/1319" submission-name="TME"/>
        <name-map collection-handle="1866/2593" submission-name="TME"/>
        <name-map collection-handle="1866/2965" submission-name="TME"/>
        <name-map collection-handle="1866/2591" submission-name="TME"/>
        <name-map collection-handle="1866/2966" submission-name="TME"/>
        <name-map collection-handle="1866/2968" submission-name="TME"/>
        <name-map collection-handle="1866/2969" submission-name="TME"/>
        <name-map collection-handle="1866/2974" submission-name="TME"/>
        <name-map collection-handle="1866/2976" submission-name="TME"/>
        <name-map collection-handle="1866/2977" submission-name="TME"/>
        <name-map collection-handle="1866/2981" submission-name="TME"/>
        <name-map collection-handle="1866/2982" submission-name="TME"/>
        <name-map collection-handle="1866/2984" submission-name="TME"/>
        <name-map collection-handle="1866/2985" submission-name="TME"/>
        <name-map collection-handle="1866/11852" submission-name="TME"/>
        <name-map collection-handle="1866/2988" submission-name="TME"/>
        <name-map collection-handle="1866/2989" submission-name="TME"/>
        <name-map collection-handle="1866/2990" submission-name="TME"/>
        <name-map collection-handle="1866/2991" submission-name="TME"/>
        <name-map collection-handle="1866/2993" submission-name="TME"/>
        <name-map collection-handle="1866/2994" submission-name="TME"/>
        <name-map collection-handle="1866/2995" submission-name="TME"/>
        <name-map collection-handle="1866/2996" submission-name="TME"/>
        <name-map collection-handle="1866/2997" submission-name="TME"/>
        <name-map collection-handle="1866/3000" submission-name="TME"/>
        <name-map collection-handle="1866/2999" submission-name="TME"/>
        <name-map collection-handle="1866/3001" submission-name="TME"/>
        <name-map collection-handle="1866/3006" submission-name="TME"/>
        <name-map collection-handle="1866/3002" submission-name="TME"/>
        <name-map collection-handle="1866/3003" submission-name="TME"/>
        <name-map collection-handle="1866/3004" submission-name="TME"/>
        <name-map collection-handle="1866/3005" submission-name="TME"/>
        <name-map collection-handle="1866/2973" submission-name="TME"/>
        <name-map collection-handle="1866/3011" submission-name="TME"/>
        <name-map collection-handle="1866/2971" submission-name="TME"/>
        <name-map collection-handle="1866/2972" submission-name="TME"/>
        <name-map collection-handle="1866/2621" submission-name="TME"/>
        <name-map collection-handle="1866/16409" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/3536" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/20320" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/9604" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/4153" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/10315" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/10469" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/153" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/11370" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/20889" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/567" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/3200" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/3512" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/23100" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/3742" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/20839" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/578" submission-name="ProductionEtudiante"/>
        <name-map collection-handle="1866/25735" submission-name="ProductionEtudiante"/>


    </submission-map>


    <!-- The 'step-definitions' allows you to define steps which you may wish -->
    <!-- to "share" amongst multiple submission-item definitions. In order to -->
    <!-- share the same step definition, you can refer to it by its unique id -->
    <!-- defined in this section. EVERY 'step' in this section MUST have a -->
    <!-- unique identifier in the 'id' attribute! -->
    <!-- -->
    <!-- Each <step-definition> REQUIRES the following attributes (@) and properties: -->
    <!-- @id - The unique identifier for this step -->
    <!-- -->
    <!-- <processing-class> - The class which will process all information for -->
    <!-- this step. The class must implement -->
    <!-- 'org.dspace.app.rest.submit.RestProcessingStep' -->
    <!-- (or one of the org.dspace.rest.submit.step.* classes) -->
    <!-- This property should reference the full path of the class -->
    <!-- (e.g. org.dspace.app.rest.submit.step.MyCustomStep) -->
    <!-- -->
    <!-- The following properties are OPTIONAL for each <step-definition>: -->
    <!-- <heading> - References the message key, from the -->
    <!-- Messages.properties -->


    <step-definitions>
        <!-- The "collection" step is a "special step" which is *REQUIRED* -->
        <!-- In DSpace, all submitted items must be immediately assigned -->
        <!-- to a collection. This step ensures that a collection is always selected. -->

        <!-- "Select Collection" (id="collection"), appears as dropdown: If not already selected,
        the user must select a collection to deposit the Item into.  As of DSpace 7, you also can
        change the Collection you are submitting into at any time. However, be aware that there may be some
        metadata lost if the Collection you switch two uses a different submission form & you already began
        entering metadata in the current submission. -->



        <step-definition id="collection">
            <!-- Avril 2022: cette forme de balise cause une erreur pour add un item -->
            <!-- <heading/> -->
            <heading></heading>
            <processing-class>org.dspace.app.rest.submit.step.CollectionStep</processing-class>
            <type>collection</type>
            <scope visibility="hidden" visibilityOutside="hidden">submission</scope>
        </step-definition>


        <!-- The following set of DescribeStep <step-definition>s all point to forms (of the same name) which are
             defined in submission-forms.xml -->

        <!-- MHV pas dans l'original..... left-over de 5.0? https://github.com/DSpace/DSpace/issues/8246 -->
<!--
        <step-definition id="complete">
            <heading>submit.progressbar.complete</heading>
            <processing-class>org.dspace.submit.step.CompleteStep</processing-class>
            <type>submission-form</type>
        </step-definition>
-->

        <!-- "Describe" sections (id="traditionalpageone" and "traditionalpagetwo"): 
This is where the user may enter descriptive metadata about the Item.
This step may consist of one or more sections of metadata entry. By default,
there are two sections of metadata-entry . -->


        <!-- This is the Sample/Fake Step which is used for testing only -->
        <step-definition id="sample">
            <heading>Sample</heading>
            <processing-class>org.dspace.submit.step.SampleStep</processing-class>
            <type>sample</type>
        </step-definition>


        <step-definition mandatory="true" id="testpage1">
            <heading>submit.progressbar.describe.step1</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>

        <step-definition mandatory="true" id="TravauxetPublicationspage1">
            <heading>submit.progressbar.describe.step1</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        <step-definition mandatory="true" id="TravauxetPublicationspage2">
            <heading>submit.progressbar.describe.step2</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>

        <step-definition mandatory="true" id="TMEpage1">
            <heading>submit.progressbar.describe.step1</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        <step-definition mandatory="true" id="TMEpage2">
            <heading>submit.progressbar.describe.step2</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>

        <step-definition mandatory="true" id="ProductionEtudiantepage1">
            <heading>submit.progressbar.describe.step1</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>
        <step-definition mandatory="true" id="ProductionEtudiantepage2">
            <heading>submit.progressbar.describe.step2</heading>
            <processing-class>org.dspace.app.rest.submit.step.DescribeStep</processing-class>
            <type>submission-form</type>
        </step-definition>


        <!-- Upload" section (id="upload"): This is where the user may upload one or more files to
associate with the Item. As of DSpace 7, you can also drag and drop files anywhere on the
page to trigger an upload. -->


        <step-definition id="upload">
            <heading>submit.progressbar.upload</heading>
            <processing-class>org.dspace.app.rest.submit.step.UploadStep</processing-class>
            <type>upload</type>
        </step-definition>

        <!-- "License" section (id="license"): This is where the user must agree to the repository distribution
license in order to complete the deposit.  This repository distribution license is defined in the
[dspace]/config/default.license file. It can also be customized per-collection from the Collection Edit UI. -->

        <step-definition id="license">
            <heading>submit.progressbar.license</heading>
            <processing-class>org.dspace.app.rest.submit.step.LicenseStep</processing-class>
            <type>license</type>
            <scope visibilityOutside="read-only">submission</scope>
        </step-definition>

        <!-- This optional step may allow the user to select access conditions on the item -->
        <!--<step-definition id="itemAccessConditions">
            <heading>submit.progressbar.accessCondition</heading>
            <processing-class>org.dspace.app.rest.submit.step.AccessConditionStep</processing-class>
            <type>accessCondition</type>
        </step-definition>-->

    </step-definitions>

    <!-- The submission-definitions map lays out the detailed definition of -->
    <!-- all the Item Submission Processes (and the ordering of their steps). -->
    <!-- Each separate "submission-process" has a unique name as an attribute, -->
    <!-- which matches one of the names in the process-map. One named -->
    <!-- "submit-process" has the name "traditional"; as this name suggests, -->
    <!-- it is the default item submission process, which gets used when -->
    <!-- the specified collection has no correspondingly named submit-process. -->
    <!-- -->
    <!-- Each submit-process contains an ordered set of steps; each step -->
    <!-- defines one "step" occurring during the process of submitting an -->
    <!-- item. A step MUST be referenced by 'id' (it must -->
    <!-- be defined in <step-definitions> above). -->
    <!-- -->


    <submission-definitions>
        <submission-process name="test">
            <step id="collection"/>
            <step id="testpage1"/>
            <step id="upload"/>
            <step id="license"/>
        </submission-process>

        <submission-process name="TravauxetPublications">
            <step id="collection"/>
            <step id="TravauxetPublicationspage1"/>
            <step id="TravauxetPublicationspage2"/>
            <step id="upload"/>
            <step id="license"/>
        </submission-process>

        <submission-process name="TME">
            <step id="collection"/>
            <step id="license"/>
            <step id="TMEpage1"/>
            <step id="TMEpage2"/>
            <step id="upload"/>

        </submission-process>
        <submission-process name="ProductionEtudiante">
            <step id="collection"/>
            <step id="ProductionEtudiantepage1"/>
            <step id="ProductionEtudiantepage2"/>
            <step id="upload"/>
            <step id="license"/>
        </submission-process>
    </submission-definitions>
</item-submission>
